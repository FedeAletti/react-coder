(this["webpackJsonpreact-project"]=this["webpackJsonpreact-project"]||[]).push([[0],{43:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){"use strict";c.r(t);var a=c(3),n=c.n(a),s=c(37),r=c.n(s),i=(c(43),c(44),c(11)),l=c(9),j=c(16),d=c(13),o=(c(45),c(2)),b=function(e){var t=e.title,c=e.price,a=e.img,n=e.brand,s=e.id;return Object(o.jsx)("div",{className:"col itemListCol mb-2 ",children:Object(o.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(o.jsxs)("div",{className:"card p-3 w-100",children:[Object(o.jsxs)("div",{className:"d-flex justify-content-evenly align-items-center ",children:[Object(o.jsxs)("div",{className:"mt-2",children:[Object(o.jsxs)("h4",{className:"text-uppercase",children:["$",c]}),Object(o.jsxs)("div",{className:"mt-5",children:[Object(o.jsx)("h5",{className:"text-uppercase mb-0",children:t}),Object(o.jsx)("h1",{className:"main-heading mt-0",children:n})]})]}),Object(o.jsx)("div",{className:"image",children:Object(o.jsx)("img",{src:a,width:"200",alt:""})})]}),Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col ver-mas mt-4",children:Object(o.jsx)(i.b,{to:"/item/".concat(s),className:"w-100 btn bg-principal text-white d-block",children:"Ver mas"})})})]})})})},m=c(24),u=(c(56),m.a.initializeApp({apiKey:"AIzaSyAIC37q7dmpP6bS4D6fjMQeyytEG3fczgQ",authDomain:"shishashop-10ccc.firebaseapp.com",projectId:"shishashop-10ccc",storageBucket:"shishashop-10ccc.appspot.com",messagingSenderId:"466733334110",appId:"1:466733334110:web:9d3ec9595b41bdadaafecf",measurementId:"G-XQ3M39ESGF"}));function h(){return m.a.firestore(u)}var x=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),c=t[0],n=t[1],s=Object(l.f)().categoryId;return Object(a.useEffect)((function(){void 0===s?h().collection("items").get().then((function(e){return n(e.docs.map((function(e){return Object(j.a)(Object(j.a)({},e.data()),{},{id:e.id})})))})):h().collection("items").where("category","==",s).get().then((function(e){return n(e.docs.map((function(e){return Object(j.a)(Object(j.a)({},e.data()),{},{id:e.id})})))}))}),[s]),Object(o.jsx)("div",{className:"row ",children:c.map((function(e){return Object(o.jsx)(b,{id:e.id,title:e.title,price:e.price,brand:e.brand,img:e.picUrl},e.id)}))})},O=(c(57),function(e){var t=e.greetings;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"banner bg-principal pb-2 pt-2",children:Object(o.jsx)("div",{className:"container banner-1",children:Object(o.jsx)("h2",{children:t})})}),Object(o.jsx)("div",{className:"container mt-2",children:Object(o.jsx)(x,{})})]})}),p=c(27),f=Object(a.createContext)(),v=function(){return Object(a.useContext)(f)},g=function(e){var t=e.children,c=Object(a.useState)([]),n=Object(d.a)(c,2),s=n[0],r=n[1],i=function(e){return s.find((function(t){return t.id===e}))};return Object(o.jsx)(f.Provider,{value:{cart:s,setCart:r,addToCart:function(e,t){var c=Object(p.a)(s),a=i(e.id);if(a)return c[c.findIndex((function(e){return e.id===a.id}))].quantity+=t,void r(c);e.quantity=t,r([].concat(Object(p.a)(c),[e]))},deleteFromCart:function(e){var t=Object(p.a)(s),c=i(e.id);if(c){var a=t.filter((function(e){return e.id!==c.id}));r(a)}},deleteCart:function(){return r([])}},children:t})},N=(c(58),function(){for(var e=Object(a.useState)(!1),t=Object(d.a)(e,2),c=t[0],n=t[1],s=v().cart,r=0,l=0;l<s.length;l++){r+=s[l].quantity}return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"cartWidget",onClick:function(e){return n(!c)},children:[Object(o.jsx)("span",{className:"cartCant",children:r}),Object(o.jsx)("i",{className:"fas fa-shopping-cart cart-style",children:Object(o.jsx)("p",{})}),c?Object(o.jsx)("div",{className:"card-click",children:Object(o.jsx)(i.b,{to:"/cart",className:"btn bg-principal text-white",children:"Ver Carrito"})}):Object(o.jsx)(o.Fragment,{})]})})}),C=(c(59),c.p+"static/media/navlogo.2e355b82.svg"),y=function(){var e=v().cart;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("nav",{className:"navbar navbar-expand-xl navbar-light bg-light",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(i.b,{className:"navbar-brand fw-bold",to:"/",children:Object(o.jsx)("img",{className:"logo-nav",src:C,alt:""})}),Object(o.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarBasic","aria-controls":"navbarBasic","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(o.jsx)("span",{className:"navbar-toggler-icon"})}),0===e.length?Object(o.jsx)(o.Fragment,{}):Object(o.jsx)(N,{}),Object(o.jsx)("div",{className:"collapse navbar-collapse show m-auto flex-navbar",id:"navbarBasic",children:Object(o.jsx)("div",{className:"",children:Object(o.jsxs)("ul",{className:"flex-navbar navbar-nav me-auto mb-2 mb-xl-0",children:[Object(o.jsx)(i.b,{to:"/category/narguilas",className:"nav-link nav-link-p",children:"Narguilas"}),Object(o.jsx)(i.b,{to:"/category/tabacos",className:"nav-link nav-link-p",children:"Tabacos"}),Object(o.jsx)(i.b,{to:"/category/carbones",className:"nav-link nav-link-p",children:"Carbones"}),Object(o.jsx)(i.b,{to:"/category/accesorios",className:"nav-link nav-link-p",children:"Accesorios"})]})})})]})})})},k=(c(60),c(61),Object(a.createContext)()),w=function(e){var t=e.children,c=Object(a.useState)([]),n=Object(d.a)(c,2),s=n[0],r=n[1];return Object(a.useEffect)((function(){h().collection("items").get().then((function(e){return r(e.docs.map((function(e){return Object(j.a)({},e.data())})))}))}),[]),Object(o.jsx)(k.Provider,{value:{products:s},children:t})},F=c(21),S=c.n(F),I=function(e){var t=e.initial,c=e.product,n=e.onAdd,s=Object(a.useState)(t),r=Object(d.a)(s,2),i=r[0],l=r[1],j=v().addToCart,b=Object(a.useContext)(k).products;return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"d-flex flex-column ",children:[Object(o.jsxs)("div",{className:"btns-count",children:[Object(o.jsx)("button",{className:"btn btn-block",onClick:function(){i>t&&l(i-1)},children:Object(o.jsx)("i",{className:"fas fa-minus"})}),Object(o.jsx)("label",{className:"alert alert-white cantidad-items",children:i}),Object(o.jsx)("button",{className:"btn btn-block",onClick:function(){i<c.stock&&l(i+1)},children:Object(o.jsx)("i",{className:"fas fa-plus"})})]}),Object(o.jsx)("div",{className:"agreg-carrito",children:Object(o.jsx)("button",{className:"btn bg-principal text-white btn-block btn-carrito ",onClick:function(){return function(e,t){var c=b.find((function(t){return t.id===e}));c?(j(c,t),n()):S()({title:"Hubo un error en tus datos",text:"El producto no pudo ser a\xf1adido",icon:"error",button:"Ok"})}(c.id,i)},children:"Agregar al Carrito"})})]})})},T=function(){var e=Object(a.useState)({}),t=Object(d.a)(e,2),c=t[0],n=t[1],s=Object(l.f)().itemId;Object(a.useEffect)((function(){h().collection("items").doc(s).get().then((function(e){return n(Object(j.a)({id:e.id},e.data()))}))}),[s]);var r=Object(a.useState)(!1),b=Object(d.a)(r,2),m=b[0],u=b[1];return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:" d-flex justify-content-center align-items-center shadow",children:Object(o.jsx)("div",{className:"card w-100 ",children:Object(o.jsx)("div",{className:"d-flex justify-content-between align-items-center container w-75 ",children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-lg-6",children:Object(o.jsx)("div",{className:"mt-2",children:Object(o.jsxs)("div",{className:"mt-5",children:[Object(o.jsx)("h4",{className:"main-heading mt-0",children:c.brand}),Object(o.jsx)("h1",{className:"text-uppercase mb-0",children:c.title}),Object(o.jsxs)("h4",{className:"text-uppercase",children:["$",c.price]}),Object(o.jsx)("hr",{}),Object(o.jsx)("h3",{children:"Descripci\xf3n: "}),Object(o.jsx)("p",{children:c.description})]})})}),Object(o.jsxs)("div",{className:"col-lg-6",children:[Object(o.jsx)("div",{className:"",children:Object(o.jsx)("img",{src:c.picUrl,className:"img-fluid mt-3",alt:""})}),Object(o.jsx)("div",{className:"mb-4",children:m?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(i.b,{to:"/cart",className:"btn bg-principal text-white btn-carrito mt-2",children:"Terminar Compra"}),Object(o.jsx)("button",{className:"btn bg-principal text-white btn-carrito-mas ",onClick:function(){return u(!1)},children:"Agregar m\xe1s"})]}):Object(o.jsx)(I,{product:c,initial:1,onAdd:function(){u(!0)}})})]})]})})})})})},q=function(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"container mt-2",children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)(T,{})})})})},E=c(25);c(63);function A(e){var t=e.product,c=v().deleteFromCart;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"card w-95 ",children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-md-3 image-cont",children:Object(o.jsx)("div",{className:"image",children:Object(o.jsx)("img",{src:t.picUrl,className:"w-35 img-fluid",alt:""})})}),Object(o.jsx)("div",{className:"col-md-9",children:Object(o.jsx)("div",{className:"mt-2 container",children:Object(o.jsxs)("div",{className:"mt-5 p-4",children:[Object(o.jsxs)("h4",{className:"main-heading mt-0",children:["".concat(t.brand," |")," ",Object(o.jsx)("span",{children:"".concat(t.quantity," unidades")})]}),Object(o.jsx)("h1",{className:"text-uppercase mb-0",children:t.title}),Object(o.jsx)("h4",{className:"text-uppercase",children:"$".concat(t.price*t.quantity)}),Object(o.jsx)("p",{children:"$".concat(t.price," c/u")}),Object(o.jsx)("hr",{}),Object(o.jsx)("button",{className:"btn btn-danger",onClick:function(){return c(t)},children:"Eliminar del Carrito"})]})})})]})})})}var B=function(e){var t=e.prod;return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"text-end",children:[Object(o.jsxs)("h4",{children:["$ ",t.price*t.quantity]}),Object(o.jsx)("hr",{})]})})},D={name:"",phone:"",email:""},P=function(){for(var e=Object(a.useState)(D),t=Object(d.a)(e,2),c=t[0],n=t[1],s=v(),r=s.cart,l=s.deleteCart,b=0,u=0;u<r.length;u++){b+=r[u].price*r[u].quantity}var x={buyer:c,item:r,date:m.a.firestore.Timestamp.fromDate(new Date),total:b};return Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("h1",{className:"p-3 mt-2 text-center",children:"Bienvenido al Carrito!"}),Object(o.jsx)("hr",{}),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsxs)("div",{className:"col-md-8",children:[0!==r.length&&Object(o.jsxs)(o.Fragment,{children:[r.map((function(e){return Object(o.jsx)(A,{product:e},e.id)})),Object(o.jsx)("div",{className:"text-end m-3",children:Object(o.jsx)("button",{className:"btn btn-danger ",onClick:l,children:"Limpiar Carrito"})})]}),0===r.length&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h3",{children:"Parece que no hay productos en el carrito,"}),Object(o.jsxs)(i.b,{to:"/",className:"btn bg-principal text-white d-block w-100 mt-3 fw-bolder fs-5",children:["Busquemos algunos   ",Object(o.jsx)("i",{className:"ps-3 fas fa-smile-wink fs-5"})]})]})]}),Object(o.jsx)("div",{className:"col-md-4",children:0!==r.length&&Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"card container",children:[Object(o.jsx)("h2",{className:"mt-3 ",children:"Resumen Carrito"}),r.map((function(e){return Object(o.jsx)(B,{prod:e},e.id)})),Object(o.jsxs)("h3",{children:["Total a pagar: $",b]}),Object(o.jsx)("hr",{}),Object(o.jsx)("p",{children:"Completa con tus datos para finalizar la compra"}),Object(o.jsxs)("form",{onSubmit:function(e){(e.preventDefault(),""!==c.name&&""!==c.phone&&""!==c.email)?h().collection("order").add(x).then((function(e){return S()({title:"Tu orden fue enviada con \xe9xito!",text:"Tu n\xb0 de orden es: ".concat(e.id),icon:"success",button:"Ok"})})).then((function(e){return l()})).catch((function(e){return S()("Un error ha ocurrido","Int\xe9ntalo nuevamente","error")})):S()({title:"Hubo un error en tus datos",text:"Revisa el formulario de tus datos y vuelve a enviar el pedido",icon:"error",button:"Ok"})},onChange:function(e){n(Object(j.a)(Object(j.a)({},c),{},Object(E.a)({},e.target.name,e.target.value)))},className:"d-flex flex-column align-center container mt-2 mb-3",children:[Object(o.jsx)("input",{className:"form-control mb-2",type:"text",placeholder:"Nombre",name:"name",value:x.name}),Object(o.jsx)("input",{className:"form-control mb-2",type:"number",placeholder:"Telefono",name:"phone",value:x.phone}),Object(o.jsx)("input",{className:"form-control mb-2",type:"email",placeholder:"Email",name:"email",value:x.email}),Object(o.jsx)("button",{className:"btn btn-success d-block mt-2",children:"Enviar orden"})]})]})})})]})]})};var $=function(){return Object(o.jsx)(w,{children:Object(o.jsx)(g,{children:Object(o.jsx)(i.a,{children:Object(o.jsx)(l.c,{children:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(y,{}),Object(o.jsx)(l.a,{exact:!0,path:"/",children:Object(o.jsx)(O,{greetings:"eat, sleep and smoke shisha."})}),Object(o.jsx)(l.a,{exact:!0,path:"/category/:categoryId",children:Object(o.jsx)(O,{greetings:"eat, sleep and smoke shisha."})}),Object(o.jsx)(l.a,{exact:!0,path:"/cart",children:Object(o.jsx)(P,{})}),Object(o.jsx)(l.a,{exact:!0,path:"/item/:itemId",children:Object(o.jsx)(q,{})})]})})})})})},z=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,65)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))};r.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)($,{})}),document.getElementById("root")),z()}},[[64,1,2]]]);
//# sourceMappingURL=main.b02544f1.chunk.js.map